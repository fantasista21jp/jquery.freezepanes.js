(function(d){d.fn.freezepanes=function(a){function A(){u()||v()}function u(){if(g.scrollLeft()!=p){p=g.scrollLeft();l&&w.css("left","-"+(e+p)+"px");return true}return false}function v(){if(g.scrollTop()!=q){q=g.scrollTop();m&&x.css("top","-"+(f+q)+"px");return true}return false}function y(o){var n=B();n=d.extend(n,o);d.data(c.get(0),"freezepanes",n)}function B(){return d.data(c.get(0),"freezepanes")}var b={width:0,height:0,cols:0,rows:0,bordercolor:null},c=this;if(!(typeof c!=="object"||c.length<
1)){if(a){if(typeof a==="string"){if(a.match(/^_/))return;try{eval(a)()}catch(C){alert(C)}return}a=d.extend(b,a)}else a=b;a.orig_width=a.width;a.orig_height=a.height;y({configs:a});if(!(typeof a.cols!=="number"||typeof a.rows!=="number"))if(!(a.cols===0&&a.rows===0))if(!(typeof a.width!=="number"||typeof a.height!=="number"))if(!(a.width===0&&a.height===0)){if(a.width>c.outerWidth()||a.width===0)a.width=c.outerWidth();if(a.height>c.outerHeight()||a.height===0)a.height=c.outerHeight();b="jquery-freezepanes-"+
d.data(c);var k=b+"-parent";c.wrap('<div id="'+k+'" style="width: '+a.width+"px; height: "+a.height+'px; position: relative; overflow: hidden;"></div>');k=d("#"+k);y({unique_id:b});var r=0,s=0,e=0,f=0;d("tr",c).each(function(){var o=d(this);s===0&&a.cols!==0&&d("td,th",o).each(function(){var n=d(this).outerWidth();r+=this.colSpan;if(r>=a.cols){e+=Math.round(n*((this.colSpan-(r-a.cols))/this.colSpan));return false}e+=n});if(s>=a.rows)return false;f+=o.outerHeight();s++});var h=null,i="";h=b+"-body";
i='<div id="'+h+'" style="width: '+(a.width-e)+"px; height: "+(a.height-f)+"px; position: absolute; overflow: scroll; z-index: 4; top: "+f+"px; left: "+e+'px;"></div>';k.append(i);var g=null;i=null;if(h){i=c.clone(true).appendTo("#"+h).css({position:"absolute",top:"-"+f+"px",left:"-"+e+"px"});g=d("#"+h)}var j=g.outerWidth()-g.get(0).clientWidth;i=g.outerHeight()-g.get(0).clientHeight;if(a.orig_width===0){k.css("width",a.width+j);g.css({width:a.width-e+j,overflow:"visible",overflowY:"scroll"})}if(a.orig_height===
0){k.css("height",a.height+i);g.css({height:a.height-f+i,overflow:"visible",overflowX:"scroll"})}if(a.orig_width===0||a.orig_height===0)i=j=0;h=null;var z="";if(e!==0&&f!==0){h=b+"-header";z='<div id="'+h+'" style="width: '+e+"px; height: "+f+'px; position: absolute; overflow: hidden; z-index: 1; top: 0px; left: 0px;"></div>'}var l=null,t="";if(f!==0){l=b+"-cols";t='<div id="'+l+'" style="width: '+(a.width-e-j)+"px; height: "+f+"px; position: absolute; overflow: hidden; z-index: 2; top: 0px; left: "+
e+'px;"></div>';if(a.bordercolor)t+='<div style="background: '+a.bordercolor+"; width: "+(a.width-j)+"px; height: 1px; position: absolute; overflow: hidden; z-index: 5; top: "+f+'px; left: 0px;">&nbsp;</div>'}var m=null;j="";if(e!==0){m=b+"-rows";j='<div id="'+m+'" style="width: '+e+"px; height: "+(a.height-f-i)+"px; position: absolute; overflow: hidden; z-index: 3; top: "+f+'px; left: 0px;"></div>';if(a.bordercolor)j+='<div style="background: '+a.bordercolor+"; width: 1px; height: "+(a.height-i)+
"px; position: absolute; overflow: hidden; z-index: 6; top: 0px; left: "+e+'px;">&nbsp;</div>'}k.append(z+t+j);b=b=null;if(h){b=c.clone(true).appendTo("#"+h);b=d("#"+h)}var w=b=null;if(l){w=c.clone(true).appendTo("#"+l).css({position:"absolute",top:"0px",left:"-"+e+"px"});b=d("#"+l)}var x=b=null;if(m){x=c.clone(true).appendTo("#"+m).css({position:"absolute",top:"-"+f+"px",left:"0px"});b=d("#"+m)}c.css("display","none");var q=0,p=0;v();u();g.scroll(function(){A()});return this}}}})(jQuery);
